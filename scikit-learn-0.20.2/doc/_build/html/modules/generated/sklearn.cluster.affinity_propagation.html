

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  
    <title>sklearn.cluster.affinity_propagation &#8212; scikit-learn 0.20.2 documentation</title>
  <!-- htmltitle is before nature.css - we use this hack to load bootstrap first -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="../../_static/css/bootstrap.min.css" media="screen" />
  <link rel="stylesheet" href="../../_static/css/bootstrap-responsive.css"/>

    <link rel="stylesheet" href="../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/js/copybutton.js"></script>
    <script type="text/javascript" src="../../_static/js/extra.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_SVG"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="prev" title="sklearn.cluster.SpectralClustering" href="sklearn.cluster.SpectralClustering.html" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="../../_static/js/bootstrap.min.js" type="text/javascript"></script>
  <script>
     VERSION_SUBDIR = (function(groups) {
         return groups ? groups[1] : null;
     })(location.href.match(/^https?:\/\/scikit-learn.org\/([^\/]+)/));
  </script>
  <link rel="canonical" href="http://scikit-learn.org/stable/modules/generated/sklearn.cluster.affinity_propagation.html" />

  <script type="text/javascript">
    $("div.buttonNext, div.buttonPrevious").hover(
       function () {
           $(this).css('background-color', '#FF9C34');
       },
       function () {
           $(this).css('background-color', '#A7D6E2');
       }
    );
    function showMenu() {
      var topNav = document.getElementById("scikit-navbar");
      if (topNav.className === "navbar") {
          topNav.className += " responsive";
      } else {
          topNav.className = "navbar";
      }
    };
  </script>

  </head><body>

<div class="header-wrapper">
    <div class="header">
        <p class="logo"><a href="../../index.html">
            <img src="../../_static/scikit-learn-logo-small.png" alt="Logo"/>
        </a>
        </p><div class="navbar" id="scikit-navbar">
            <ul>
                <li><a href="../../index.html">首页</a></li>
                <li><a href="../../install.html">安装</a></li>
                <li class="btn-li"><div class="btn-group">
              <a href="../../documentation.html">文档</a>
              <a class="btn dropdown-toggle" data-toggle="dropdown">
                 <span class="caret"></span>
              </a>
              <ul class="dropdown-menu">
            <li class="link-title">Scikit-learn <script>document.write(DOCUMENTATION_OPTIONS.VERSION + (VERSION_SUBDIR ? " (" + VERSION_SUBDIR + ")" : ""));</script></li>
            <li><a href="../../tutorial/index.html">教程</a></li>
            <li><a href="../../user_guide.html">用户指南</a></li>
            <li><a href="../classes.html">API</a></li>
            <li><a href="../../glossary.html">术语</a></li>
            <li><a href="../../faq.html">FAQ</a></li>
            <li><a href="../../developers/contributing.html">贡献</a></li>
            <li><a href="../../roadmap.html">Roadmap</a></li>
            <li class="divider"></li>
                <script>if (VERSION_SUBDIR != "stable") document.write('<li><a href="http://scikit-learn.org/stable/documentation.html">Stable version</a></li>')</script>
                <script>if (VERSION_SUBDIR != "dev") document.write('<li><a href="http://scikit-learn.org/dev/documentation.html">Development version</a></li>')</script>
                <li><a href="http://scikit-learn.org/dev/versions.html">所有可用的版本</a></li>
                <li><a href="../../_downloads/scikit-learn-docs.pdf">PDF 文档</a></li>
              </ul>
            </div>
        </li>
            <li><a href="../../auto_examples/index.html">案例</a></li>
            </ul>
            <a href="javascript:void(0);" onclick="showMenu()">
                <div class="nav-icon">
                    <div class="hamburger-line"></div>
                    <div class="hamburger-line"></div>
                    <div class="hamburger-line"></div>
                </div>
            </a>
            <div class="search_form">
                <div class="gcse-search" id="cse" style="width: 100%;"></div>
            </div>
        </div> <!-- end navbar --></div>
</div>


<!-- GitHub "fork me" ribbon -->
<a href="https://github.com/scikit-learn/scikit-learn">
  <img class="fork-me"
       style="position: absolute; top: 0; right: 0; border: 0;"
       src="../../_static/img/forkme.png"
       alt="Fork me on GitHub" />
</a>

<div class="content-wrapper">
    <div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
        <div class="rel">
    
        <div class="rellink">
        <a href="sklearn.cluster.SpectralClustering.html"
        accesskey="P">Previous
        <br/>
        <span class="smallrellink">
        sklearn.clust...
        </span>
            <span class="hiddenrellink">
            sklearn.cluster.SpectralClustering
            </span>
        </a>
        </div>

    <!-- Ad a link to the 'up' page -->
        <div class="spacer">
        &nbsp;
        </div>
        <div class="rellink">
        <a href="../classes.html">
        Up
        <br/>
        <span class="smallrellink">
        API Reference
        </span>
            <span class="hiddenrellink">
            API Reference
            </span>
            
        </a>
        </div>
    </div>
    
      <p class="doc-version"><b>scikit-learn v0.20.2</b><br/>
      <a href="http://scikit-learn.org/dev/versions.html">其他版本</a></p>
    <p class="citing">该中文文档由人工智能社区的<a href="http://www.studyai.com/antares" target="_blank"
      >Antares</a>翻译!
    </p>
    <ul>
<li><a class="reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">sklearn.cluster</span></code>.affinity_propagation</a><ul>
<li><a class="reference internal" href="#examples-using-sklearn-cluster-affinity-propagation">Examples using <code class="docutils literal notranslate"><span class="pre">sklearn.cluster.affinity_propagation</span></code></a></li>
</ul>
</li>
</ul>

    <br/>
    <p>
        <a href="http://www.studyai.com" target="_blank">
          <img src="../../_static/img/xxx.png" alt="座右铭"/>
        </a>
    </p>
    <br/>
    <p class="doc-version">
      注意!本网站的网址是以 <em>https://</em> 开头的，而不是以 <em>http://</em> 开头的!!!
    </p>
    </div>
</div>

<input type="checkbox" id="nav-trigger" class="nav-trigger" checked />
<label for="nav-trigger"></label>




      <div class="content">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="sklearn-cluster-affinity-propagation">
<h1><a class="reference internal" href="../classes.html#module-sklearn.cluster" title="sklearn.cluster"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sklearn.cluster</span></code></a>.affinity_propagation<a class="headerlink" href="#sklearn-cluster-affinity-propagation" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="sklearn.cluster.affinity_propagation">
<code class="descclassname">sklearn.cluster.</code><code class="descname">affinity_propagation</code><span class="sig-paren">(</span><em>S</em>, <em>preference=None</em>, <em>convergence_iter=15</em>, <em>max_iter=200</em>, <em>damping=0.5</em>, <em>copy=True</em>, <em>verbose=False</em>, <em>return_n_iter=False</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/scikit-learn/scikit-learn/blob/93265ce/sklearn/cluster\affinity_propagation_.py#L33"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sklearn.cluster.affinity_propagation" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform Affinity Propagation Clustering of data</p>
<p>Read more in the <a class="reference internal" href="../clustering.html#affinity-propagation"><span class="std std-ref">User Guide</span></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>S</strong> : array-like, shape (n_samples, n_samples)</p>
<blockquote>
<div><p>Matrix of similarities between points</p>
</div></blockquote>
<p><strong>preference</strong> : array-like, shape (n_samples,) or float, optional</p>
<blockquote>
<div><p>Preferences for each point - points with larger values of
preferences are more likely to be chosen as exemplars. The number of
exemplars, i.e. of clusters, is influenced by the input preferences
value. If the preferences are not passed as arguments, they will be
set to the median of the input similarities (resulting in a moderate
number of clusters). For a smaller amount of clusters, this can be set
to the minimum value of the similarities.</p>
</div></blockquote>
<p><strong>convergence_iter</strong> : int, optional, default: 15</p>
<blockquote>
<div><p>Number of iterations with no change in the number
of estimated clusters that stops the convergence.</p>
</div></blockquote>
<p><strong>max_iter</strong> : int, optional, default: 200</p>
<blockquote>
<div><p>Maximum number of iterations</p>
</div></blockquote>
<p><strong>damping</strong> : float, optional, default: 0.5</p>
<blockquote>
<div><p>Damping factor between 0.5 and 1.</p>
</div></blockquote>
<p><strong>copy</strong> : boolean, optional, default: True</p>
<blockquote>
<div><p>If copy is False, the affinity matrix is modified inplace by the
algorithm, for memory efficiency</p>
</div></blockquote>
<p><strong>verbose</strong> : boolean, optional, default: False</p>
<blockquote>
<div><p>The verbosity level</p>
</div></blockquote>
<p><strong>return_n_iter</strong> : bool, default False</p>
<blockquote>
<div><p>Whether or not to return the number of iterations.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>cluster_centers_indices</strong> : array, shape (n_clusters,)</p>
<blockquote>
<div><p>index of clusters centers</p>
</div></blockquote>
<p><strong>labels</strong> : array, shape (n_samples,)</p>
<blockquote>
<div><p>cluster labels for each point</p>
</div></blockquote>
<p><strong>n_iter</strong> : int</p>
<blockquote class="last">
<div><p>number of iterations run. Returned only if <cite>return_n_iter</cite> is
set to True.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>For an example, see <a class="reference internal" href="../../auto_examples/cluster/plot_affinity_propagation.html#sphx-glr-auto-examples-cluster-plot-affinity-propagation-py"><span class="std std-ref">examples/cluster/plot_affinity_propagation.py</span></a>.</p>
<p>When the algorithm does not converge, it returns an empty array as
<code class="docutils literal notranslate"><span class="pre">cluster_center_indices</span></code> and <code class="docutils literal notranslate"><span class="pre">-1</span></code> as label for each training sample.</p>
<p>When all training samples have equal similarities and equal preferences,
the assignment of cluster centers and labels depends on the preference.
If the preference is smaller than the similarities, a single cluster center
and label <code class="docutils literal notranslate"><span class="pre">0</span></code> for every sample will be returned. Otherwise, every
training sample becomes its own cluster center and is assigned a unique
label.</p>
<p class="rubric">References</p>
<p>Brendan J. Frey and Delbert Dueck, “Clustering by Passing Messages
Between Data Points”, Science Feb. 2007</p>
</dd></dl>

<div class="section" id="examples-using-sklearn-cluster-affinity-propagation">
<h2>Examples using <code class="docutils literal notranslate"><span class="pre">sklearn.cluster.affinity_propagation</span></code><a class="headerlink" href="#examples-using-sklearn-cluster-affinity-propagation" title="Permalink to this headline">¶</a></h2>
<div class="sphx-glr-thumbcontainer" tooltip="This example employs several unsupervised learning techniques to extract the stock market struc..."><div class="figure" id="id1">
<img alt="../../_images/sphx_glr_plot_stock_market_thumb.png" src="../../_images/sphx_glr_plot_stock_market_thumb.png" />
<p class="caption"><span class="caption-text"><a class="reference internal" href="../../auto_examples/applications/plot_stock_market.html#sphx-glr-auto-examples-applications-plot-stock-market-py"><span class="std std-ref">Visualizing the stock market structure</span></a></span></p>
</div>
</div><div class="clearer"></div></div>
</div>


          </div>
        </div>
      </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer">
        &copy; 2007 - 2018, scikit-learn developers (BSD License).
      <a href="../../_sources/modules/generated/sklearn.cluster.affinity_propagation.rst.txt" rel="nofollow">Show this page source</a>
    </div>
     <div class="rel">
    
    <div class="buttonPrevious">
      <a href="sklearn.cluster.SpectralClustering.html">Previous
      </a>
    </div>
    
     </div>

    
    <script>
        window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
        ga('create', 'UA-22606712-2', 'auto');
        ga('set', 'anonymizeIp', true);
        ga('send', 'pageview');
    </script>
    <script async src='https://www.google-analytics.com/analytics.js'></script>
    
    <script>
      (function() {
        var cx = '016639176250731907682:tjtqbvtvij0';
        var gcse = document.createElement('script'); gcse.type = 'text/javascript'; gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(gcse, s);
      })();
    </script>
  </body>
</html>